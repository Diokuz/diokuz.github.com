/*! baron 20-04-2013 */
(function(e,t){"use strict";function s(){}function o(r){function f(s){o.init=function(o){function n(){o.barOnCls&&(B[A.client]<B[A.scrollSize]?d(B).addClass(o.barOnCls):d(B).removeClass(o.barOnCls))}function i(e){var t=o.barMinSize||20;e>0&&t>e&&(e=t),W&&d(W).css(A.size,parseInt(e)+"px")}function r(e){W&&d(W).css(A.pos,parseInt(e)+"px")}function l(){return E[A.client]-k-W[A.offset]}function c(e){return e*l()+k}function f(e){return(e-k)/l()}function a(e){return e["client"+A.x]||(((e.originalEvent||e).touches||{})[0]||{})["page"+A.x]}function p(){return!1}function v(e){u(document,"selectpos selectstart",p,e?"off":"on")}function C(e){try{D=document.createEvent("WheelEvent"),D.initWebKitWheelEvent(e.originalEvent.wheelDeltaX,e.originalEvent.wheelDeltaY),B.dispatchEvent(D),e.preventDefault()}catch(e){}}function b(e,s){(o.viewMinSize||0)>w&&(s=t),s!==t?(s+="px",d(z[e]).css(A.pos,s).addClass(y)):d(z[e]).css(A.pos,"").removeClass(y)}function m(e){if(d(B).css(A.crossSize,B.parentNode[A.crossClient]+B[A.crossOffset]-B[A.crossClient]+"px"),w=B[A.client],e&&(S=[]),L=[],F=[],z=h(o.header,B)){for(D=0;z.length>D;D++)F[D]=F[D-1]||0,z[D-1]&&(F[D]+=z[D-1][A.offset]),H={},H[A.size]=z[D][A.offset],d(z[D].parentNode).css(H),H={},H[A.crossSize]=z[D].parentNode[A.crossClient],d(z[D]).css(H),w-=z[D][A.offset],S[D]=z[D].parentNode[A.offsetPos],0==D&&0==S[D]||!e||(u(z[D],"mousewheel",C,"off"),u(z[D],"mousewheel",C));o.trackSmartLim&&(E!=B?(H={},H[A.pos]=z[0].parentNode[A.offset],d(E).css(H)):k=z[0].parentNode[A.offset])}}function g(){var e,s,n,l,f;if(n=(E[A.client]-k)*B[A.client]/B[A.scrollSize],s!=n&&(i(n),s=n),e=-(B["page"+A.x+"Offset"]||B[A.scroll]),N=c(-e/(B[A.scrollSize]-B[A.client])),r(N),z){var a;for(D=0;z.length>D;D++)f=0,S[D]+e<F[D]+P?(f=1,l=F[D]):S[D]+e>F[D]+w-P?(f=2,l=F[D]+w):(f=3,l=t),f!=L[D]&&(b(D,l),L[D]=f,a=!0);if(a)for(D=0;z.length>D;D++)L[D]!=L[D+1]&&1==L[D]&&o.hBeforeFixCls?d(z[D]).addClass(o.hBeforeFixCls).removeClass(o.hAfterFixCls+""):L[D]!=L[D-1]&&2==L[D]&&o.hAfterFixCls?d(z[D]).addClass(o.hAfterFixCls).removeClass(o.hBeforeFixCls+""):d(z[D]).removeClass(o.hBeforeFixCls+"").removeClass(o.hAfterFixCls+"")}}function x(){clearTimeout(O),O=setTimeout(function(){m(),g(),n()},200)}var z,w,S,F,O,W,E,N,y,A,B,T,_,H,P,D,L=[],k=0;return B=o.scroller,this._barOn=n,this._uView=m,this._uBar=g,o.bar&&o.bar[0].nodeType&&(W=o.bar[0]),W||(o.bar?W=h(o.bar,B)[0]:(W=h("*",B),W=W[W.length-1])),W?(E=h(o.track,B)[0],E=E||W.parentNode):E=B,B.setAttribute("data-baron","inited"),A=s.dir,P=o.fixRadius||0,y=o.hFixCls,u(B,"scroll",g),u(W,"touchstart mousedown",function(e){e.preventDefault(),v(),T=1}),u(document,"mouseup blur touchend",function(){v(1),T=0}),u(document,"touchstart mousedown",function(e){2!=e.button&&(_=a(e)-N)}),u(document,"mousemove",function(e){T&&(B[A.scroll]=f(a(e)-_)*(B[A.scrollSize]-B[A.client]))}),u(e,"resize",x),u(B,"sizeChange",x),u(W,"mousewheel",C),this},o.init.prototype.update=function(){this._uView(1),this._uBar(),this._barOn()};for(var n=0,i=0;p.length>i;i++)p[i].getAttribute("data-baron")?u(p[i],"sizeChange",t,"trigger"):(s.scroller=p[i],s.v!==!1&&(s.dir=c.v,s.bar=s.vbar||s.bar,this[n++]=new o.init(s)),s.h&&(s.dir=c.h,s.bar=s.hbar,this[n++]=new o.init(s)));return this}var a,u,h,d,p;return n=function(e){s(e,r)},r=r||{},h=r.selector||l,h||n(1),u=r.event||function(e,t,s,o){l(e)[o||"on"](t,s)},r.event||l||n(2),d=r.dom||l,d||n(3),p=h(r.scroller||this),p[0]||(p=[p]),p[0].nodeType||n(10),f.prototype.u=function(){for(var e=-1;this[++e];)this[e].update()},a=new f(r),a.u(),i.push(a),a}var n,i=[],r=e.baron,l=e.jQuery,c={v:{x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},h:{x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}};e&&(o.u=function(){for(var e=0;i.length>e;e++)i[e].u()},o.noConflict=function(){return e.baron=r,o},o.version="0.5.1",l&&l.fn&&(l.fn.baron=o),e.baron=o,e.module&&module.exports&&(module.exports=o.noConflict()))})(window);