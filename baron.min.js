/*! baron 09-04-2013 */
(function(e,t){"use strict";function s(){}function o(r){function f(s){o.init=function(o){function n(){o.barOnCls&&(B[A.client]<B[A.scrollSize]?d(B).addClass(o.barOnCls):d(B).removeClass(o.barOnCls))}function i(e){var t=o.barMinSize||20;e>0&&t>e&&(e=t),O&&d(O).css(A.size,parseInt(e)+"px")}function r(e){O&&d(O).css(A.pos,parseInt(e)+"px")}function l(){return W[A.client]-L-O[A.offset]}function c(e){return e*l()+L}function f(e){return(e-L)/l()}function a(){return!1}function p(e){u(document,"selectpos",a,e?"off":"on")}function v(e){try{T=document.createEvent("WheelEvent"),T.initWebKitWheelEvent(e.originalEvent.wheelDeltaX,e.originalEvent.wheelDeltaY),B.dispatchEvent(T),e.preventDefault()}catch(e){}}function C(e,s){(o.viewMinSize||0)>z&&(s=t),s!==t?(s+="px",d(g[e]).css(A.pos,s).addClass(y)):d(g[e]).css(A.pos,"").removeClass(y)}function m(e){if(d(B).css(A.crossSize,B.parentNode[A.crossClient]+B[A.crossOffset]-B[A.crossClient]+"px"),z=B[A.client],e&&(w=[]),D=[],S=[],g=h(o.header,B)){for(T=0;g.length>T;T++)0==T&&o.trackSmartLim||!e||(u(g[T],"mousewheel",v,"off"),u(g[T],"mousewheel",v)),S[T]=S[T-1]||0,g[T-1]&&(S[T]+=g[T-1][A.offset]),H={},H[A.size]=g[T][A.offset],d(g[T].parentNode).css(H),H={},H[A.crossSize]=g[T].parentNode[A.crossClient],d(g[T]).css(H),z-=g[T][A.offset],w[T]=g[T].parentNode[A.offsetPos];o.trackSmartLim&&(W!=B?(H={},H[A.pos]=g[0].parentNode[A.offset],d(W).css(H)):L=g[0].parentNode[A.offset])}}function b(){var e,s,n,l,f;if(n=(W[A.client]-L)*B[A.client]/B[A.scrollSize],s!=n&&(i(n),s=n),e=-(B["page"+A.x+"Offset"]||B[A.scroll]),N=c(-e/(B[A.scrollSize]-B[A.client])),r(N),g){var a;for(T=0;g.length>T;T++)f=0,w[T]+e<S[T]+P?(f=1,l=S[T]):w[T]+e>S[T]+z-P?(f=2,l=S[T]+z):(f=3,l=t),f!=D[T]&&(C(T,l),D[T]=f,a=!0);if(a)for(T=0;g.length>T;T++)D[T]!=D[T+1]&&1==D[T]&&o.hBeforeFixCls?d(g[T]).addClass(o.hBeforeFixCls).removeClass(o.hAfterFixCls+""):D[T]!=D[T-1]&&2==D[T]&&o.hAfterFixCls?d(g[T]).addClass(o.hAfterFixCls).removeClass(o.hBeforeFixCls+""):d(g[T]).removeClass(o.hBeforeFixCls+"").removeClass(o.hAfterFixCls+"")}}function x(){clearTimeout(F),F=setTimeout(function(){m(),b(),n()},200)}var g,z,w,S,F,O,W,N,y,A,B,E,_,H,P,T,D=[],L=0;return B=o.scroller,this._barOn=n,this._uView=m,this._uBar=b,o.bar?O=h(o.bar,B)[0]:(O=h("*",B),O=O[O.length-1]),O?(W=h(o.track,B)[0],W=W||O.parentNode):W=B,B.setAttribute("data-baron","inited"),A=s.dir,P=o.fixRadius||0,y=o.hFixCls,u(B,"scroll",b),u(O,"mousedown",function(e){e.preventDefault(),p(),E=1}),u(document,"mouseup blur",function(){p(1),E=0}),u(document,"mousedown",function(e){2!=e.button&&(_=e["client"+A.x]-N)}),u(document,"mousemove",function(e){E&&(B[A.scroll]=f(e["client"+A.x]-_)*(B[A.scrollSize]-B[A.client]))}),u(e,"resize",x),u(B,"sizeChange",x),u(O,"mousewheel",v),W&&W!=B&&u(W,"mousewheel",v),this},o.init.prototype.update=function(){this._uView(1),this._uBar(),this._barOn()};for(var n=0,i=0;p.length>i;i++)p[i].getAttribute("data-baron")?u(p[i],"sizeChange",t,"trigger"):(s.scroller=p[i],s.v!==!1&&(s.dir=c.v,s.bar=s.vbar||s.bar,this[n++]=new o.init(s)),s.h&&(s.dir=c.h,s.bar=s.hbar,this[n++]=new o.init(s)));return this}var a,u,h,d,p;n=function(e){s(e,r)},r=r||{},h=r.selector||l,h||n(1),u=r.event||function(e,t,s,o){l(e)[o||"on"](t,s)},r.event||l||n(2),d=r.dom||l,d||n(3),p=h(r.scroller||this),p[0]||(p=[p]),p[0].nodeType||n(10),f.prototype.u=function(){for(var e=-1;this[++e];)this[e].update()};try{a=new f(r),a.u(),i.push(a)}catch(v){}return a}var n,i=[],r=e.baron,l=e.jQuery,c={v:{x:"Y",pos:"top",crossPos:"left",size:"height",crossSize:"width",client:"clientHeight",crossClient:"clientWidth",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},h:{x:"X",pos:"left",crossPos:"top",size:"width",crossSize:"height",client:"clientWidth",crossClient:"clientHeight",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}};e&&(o.u=function(){for(var e=0;i.length>e;e++)i[e].u()},o.noConflict=function(){return e.baron=r,o},o.version="0.4.x",l&&l.fn&&(l.fn.baron=o),e.baron=o,e.module&&module.exports&&(module.exports=o.noConflict()))})(window);